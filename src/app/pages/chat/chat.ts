import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';

type Msg = { from: 'me' | 'other'; text: string; at: Date };

@Component({
  selector: 'app-chat',
  standalone: true,
  imports: [CommonModule, FormsModule],
  templateUrl: './chat.html',
  styleUrls: ['./chat.css'],
})
export class Chat {
  messages: Msg[] = [
    { from: 'other', text: 'Hola, Â¿en quÃ© puedo ayudarte?', at: new Date() },
    { from: 'me', text: 'Quiero clases de matemÃ¡ticas bÃ¡sicas.', at: new Date() },
  ];
  draft = '';

  send() {
    const text = this.draft.trim();
    if (!text) return;
    this.messages.push({ from: 'me', text, at: new Date() });
    this.draft = '';
    // ðŸ”Œ TODO: POST /api/messages o WebSocket
  }
}

